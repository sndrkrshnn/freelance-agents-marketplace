# ============================================
# Environment Variables - Root .env
# Freelance AI Agents Marketplace
# ============================================
#
# Copy this file to .env and update with your values.
# DO NOT commit the actual .env file to version control.
# ============================================

# ============================================
# Application Configuration
# ============================================
APP_NAME="Freelance AI Marketplace"
VERSION="1.0.0"
NODE_ENV=production

# Build metadata
BUILD_DATE=
VCS_REF=

# ============================================
# Server Configuration
# ============================================
PORT=5000
HOST=0.0.0.0

# Frontend URL (for CORS)
FRONTEND_URL=https://freelance-marketplace.com

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_DB=freelance_marketplace
POSTGRES_USER=freelance_user
POSTGRES_PASSWORD=change_this_secure_password
POSTGRES_PORT=5432
DB_HOST=postgres

# Database connection pool (backend)
DB_POOL_MIN=2
DB_POOL_MAX=20

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis session keys
REDIS_SESSION_PREFIX=session:
REDIS_CACHE_PREFIX=cache:
REDIS_RATE_LIMIT_PREFIX=ratelimit:

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=change_this_to_very_long_random_string_min_32_chars
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=7d

# JWT algorithm (HS256 or RS256)
JWT_ALGORITHM=HS256

# ============================================
# Encryption
# ============================================
ENCRYPTION_KEY=change_this_to_32_byte_encryption_key
ENCRYPTION_ALGORITHM=aes-256-gcm

# ============================================
# Email Configuration
# ============================================
# SMTP settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@freelance-marketplace.com
SMTP_FROM_NAME="Freelance AI Marketplace"

# Email verification
EMAIL_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_TOKEN_EXPIRY=24h

# Password reset
PASSWORD_RESET_TOKEN_EXPIRY=1h

# ============================================
# Stripe Payment Integration
# ============================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_WEBHOOK_ENDPOINT="/api/payments/stripe/webhook"

# Platform fee (percentage, e.g., 10 = 10%)
PLATFORM_FEE_PERCENTAGE=10

# Minimum withdrawal amount (in cents)
MIN_WITHDRAWAL_AMOUNT=500

# ============================================
# File Upload Configuration
# ============================================
# Maximum file size (in bytes)
MAX_FILE_SIZE=10485760  # 10MB
MAX_PROFILE_IMAGE_SIZE=2097152  # 2MB
MAX_PORTFOLIO_ITEM_SIZE=5242880  # 5MB

# Allowed file types
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Upload path
UPLOAD_PATH=/app/uploads

# ============================================
# Rate Limiting
# ============================================
# General rate limit (requests per minute)
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100

# API rate limit
API_RATE_LIMIT_MAX=10

# Auth rate limit
AUTH_RATE_LIMIT_MAX=5

# Login rate limit
LOGIN_RATE_LIMIT_MAX=3
LOGIN_RATE_LIMIT_WINDOW=60000  # 60 seconds

# ============================================
# CORS Configuration
# ============================================
CORS_ORIGIN=https://freelance-marketplace.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# ============================================
# Session Configuration
# ============================================
SESSION_SECRET=change_this_session_secret_key
SESSION_MAX_AGE=86400000  # 24 hours
SESSION_SECURE=true
SESSION_SAME_SITE=lax

# ============================================
# Socket.IO Configuration
# ============================================
SOCKET_PATH=/socket.io
SOCKET_CORS_ORIGIN=https://freelance-marketplace.com

# ============================================
# Logging Configuration
# ============================================
# Log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log format: json, simple
LOG_FORMAT=json

# Enable file logging
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs

# Log rotation
LOG_MAX_SIZE=20971520  # 20MB
LOG_MAX_FILES=5

# ============================================
# Security Configuration
# ============================================
# Enable Helmet security headers
HELMET_ENABLED=true

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Enable request sanitization
SANITIZE_ENABLED=true

# Password requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================================
# API Configuration
# ============================================
# API version
API_VERSION=v1

# API prefix
API_PREFIX=/api

# Enable API documentation (Swagger)
API_DOCS_ENABLED=true
API_DOCS_PATH=/api/docs

# Pagination defaults
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ============================================
# Caching Configuration
# ============================================
# Enable Redis caching
CACHE_ENABLED=true
CACHE_TTL_DEFAULT=3600  # 1 hour
CACHE_TTL_SHORT=300  # 5 minutes
CACHE_TTL_LONG=86400  # 24 hours

# ============================================
# Monitoring & Analytics
# ============================================
# Enable analytics
ANALYTICS_ENABLED=false

# Google Analytics (optional)
GA_TRACKING_ID=

# ============================================
# Development/Debug (PRODUCTION: set to false)
# ============================================
DEBUG=false
DEBUG_MODE=false
DISABLE_RATE_LIMIT=false
DISABLE_AUTH=false

# ============================================
# Docker/Container Configuration
# ============================================
# Vite configuration (frontend)
VITE_API_BASE_URL=/api

# ============================================
# Third-Party Services (Optional)
# ============================================

# OpenAI API (for AI features)
OPENAI_API_KEY=

# Anthropic API (for AI features)
ANTHROPIC_API_KEY=

# Sentry (error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ============================================
# Feature Flags
# ============================================
FEATURE_REGISTRATION=true
FEATURE_MESSAGING=true
FEATURE_VIDEO_CALLS=false
FEATURE_ESCROW_PAYMENTS=true
FEATURE_DISPUTE_RESOLUTION=true
FEATURE_REVIEWS=true
FEATURE_PORTFOLIO=true
FEATURE_BLOG=false
FEATURE_REFERRAL_PROGRAM=false
