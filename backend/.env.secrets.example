# ⚠️ SECURITY WARNING: DO NOT COMMIT THIS FILE TO GIT ⚠️
# Copy this file to .env.local for development
# Never commit actual secrets to version control

# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
PORT=5000
FRONTEND_URL=http://localhost:3000

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Database URL format: postgresql://[user[:password]@][netloc][:port][/dbname][?param1=value1&...]
DATABASE_URL=postgresql://marketplace:your_password_here@localhost:5432/marketplace

# Database Connection Pool Options
DB_MAX_CLIENTS=20
DB_IDLE_TIMEOUT_MILLIS=30000

# ============================================
# REDIS
# ============================================
# Redis URL format: redis://[user[:password]@]host:port
REDIS_URL=redis://localhost:6379

# ============================================
# JWT (JSON Web Tokens)
# ============================================
# Use a strong, random secret key (at least 32 characters)
JWT_SECRET=your_extremely_secure_jwt_secret_key_change_this_immediately
JWT_REFRESH_SECRET=your_refresh_token_secret_change_this_too

# Token expiration times (in seconds)
JWT_EXPIRES_IN=3600          # 1 hour
JWT_REFRESH_EXPIRES_IN=604800  # 7 days

# ============================================
# STRIPE PAYMENTS
# ============================================
# Obtain these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_PLATFORM_FEE_PERCENTAGE=10

# ============================================
# OAUTH PROVIDERS
# ============================================
# Google OAuth - Create credentials at https://console.cloud.google.com
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# GitHub OAuth - Create app at https://github.com/settings/applications/new
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:5000/api/auth/github/callback

# ============================================
# FILE UPLOAD & STORAGE
# ============================================
# AWS S3 or similar object storage
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name

# Maximum file sizes (in bytes)
MAX_FILE_SIZE=10485760      # 10MB
MAX_IMAGE_SIZE=5242880      # 5MB
MAX_RESUME_SIZE=20971520    # 20MB

# ============================================
# EMAIL SERVICE (SendGrid, Mailgun, etc.)
# ============================================
# SendGrid
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Or Mailgun
# MAILGUN_API_KEY=your_mailgun_api_key
# MAILGUN_DOMAIN=your_domain.com

# ============================================
# API KEYS & EXTERNAL SERVICES
# ============================================
# OpenAI for AI features (if using)
OPENAI_API_KEY=sk-your_openai_api_key
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000        # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100        # 100 requests per 15 minutes
RATE_LIMIT_AUTH_MAX=5              # 5 auth attempts per minute
RATE_LIMIT_MESSAGE_MAX=30          # 30 messages per minute
RATE_LIMIT_FILE_UPLOAD_MAX=10      # 10 uploads per hour

# ============================================
# SECURITY & ENCRYPTION
# ============================================
# Used for encrypting sensitive data in database
ENCRYPTION_KEY=your_32_character_encryption_key

# Session secrets
SESSION_SECRET=your_session_secret_key

# CSRF protection
CSRF_SECRET=your_csrf_secret_key

# ============================================
# LOGGING & MONITORING
# ============================================
# Application level
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry for error tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=development

# DataDog (optional)
DD_API_KEY=your_datadog_api_key
DD_APP_KEY=your_datadog_app_key

# ============================================
# ADMIN USERS (for initial setup)
# ============================================
# Comma-separated list of admin email addresses
ADMIN_EMAILS=admin@yourdomain.com,admin2@yourdomain.com

# ============================================
# CORS & TRUSTED ORIGINS
# ============================================
CORS_ORIGIN=http://localhost:3000,https://yourdomain.com
TRUSTED_PROXIES=true

# ============================================
# WEBHOOKS
# ============================================
# Your platform's webhook endpoints for notifications
WEBHOOK_URL=https://yourdomain.com/webhooks

# ============================================
# FEATURES & FLAGS
# ============================================
ENABLE_USER_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_MAINTENANCE_MODE=false
