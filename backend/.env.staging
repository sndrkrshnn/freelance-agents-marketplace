# Backend Staging Environment Variables

# Server Configuration
NODE_ENV=staging
PORT=5000
API_BASE_URL=https://api-staging.freelance-agents.com
FRONTEND_URL=https://staging.freelance-agents.com

# Database Configuration
DB_HOST=staging-db.postgres.database.azure.com
DB_PORT=5432
DB_NAME=freelance_agents_staging
DB_USER=staging_user
DB_PASSWORD=${STAGING_DB_PASSWORD}
DATABASE_URL=postgresql://${DB_USER}:${STAGING_DB_PASSWORD}@${DB_Host}:${DB_PORT}/${DB_NAME}
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# JWT Configuration
JWT_SECRET=${STAGING_JWT_SECRET}
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d

# Stripe Configuration (Use test keys for staging)
STRIPE_SECRET_KEY=${STAGING_STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STAGING_STRIPE_WEBHOOK_SECRET}
STRIPE_PUBLISHABLE_KEY=pk_test_example
STRIPE_WEBHOOK_ENDPOINT=/api/payments/webhook

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS_REQUESTS=false

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE=logs/app.log

# Security Configuration
CORS_ORIGIN=https://staging.freelance-agents.com
HELMET_ENABLED=true
XSS_PROTECTION=true
HSTS_ENABLED=true

# Redis Configuration
REDIS_HOST=staging-redis.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=${STAGING_REDIS_PASSWORD}
REDIS_DB=0

# Email Configuration
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=${SENDGRID_API_KEY}
SMTP_FROM=noreply-staging@freelance-agents.com

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_DIR=uploads

# Monitoring
SENTRY_DSN=${STAGING_SENTRY_DSN}
SENTRY_ENVIRONMENT=staging
PROMETHEUS_ENABLED=true

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_VERIFICATION_EMAIL=true
ENABLE_STRIPE_WEBHOOKS=true
